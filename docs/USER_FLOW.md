# Starquezz User Flow

## Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         STARQUEZZ APP                                â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  PARENT  â”‚â”€â”€â”€â–¶â”‚  CHILD   â”‚â”€â”€â”€â–¶â”‚  HABITS  â”‚â”€â”€â”€â–¶â”‚  REWARDS â”‚      â”‚
â”‚  â”‚  SETUP   â”‚    â”‚  SELECT  â”‚    â”‚  TRACKER â”‚    â”‚  STORE   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚       â”‚                                â”‚                             â”‚
â”‚       â”‚                                â–¼                             â”‚
â”‚       â”‚                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ APPROVAL â”‚                        â”‚
â”‚                                 â”‚  QUEUE   â”‚                        â”‚
â”‚                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1. New User Journey (First Time Parent)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Landing â”‚â”€â”€â”€â”€â–¶â”‚ Sign Up â”‚â”€â”€â”€â”€â–¶â”‚ Onboardingâ”‚â”€â”€â”€â”€â–¶â”‚ Parent Setupâ”‚
â”‚  Page   â”‚     â”‚  Page   â”‚     â”‚  Wizard   â”‚     â”‚   Wizard    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚                  â”‚
                                      â”‚                  â–¼
                                      â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                      â”‚           â”‚  Add Child  â”‚
                                      â”‚           â”‚   Wizard    â”‚
                                      â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚                  â”‚
                                      â–¼                  â–¼
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚         Home Page           â”‚
                                â”‚   (Child Profile Select)    â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Steps:
1. **Landing Page** (`/`) - See app intro, "Parent Login" button
2. **Sign Up** (`/signup`) - Email + password
3. **Onboarding Wizard** (`/onboarding`) - Intro slides explaining the app
4. **Parent Setup** (`/parent/setup`) - Set parent PIN, family name
5. **Add Child Wizard** (`/parent/add-child`) - Name, avatar, age, habits, rewards
6. **Home Page** (`/`) - See child profiles, ready to use!

---

## 2. Returning Parent Journey

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Landing â”‚â”€â”€â”€â”€â–¶â”‚  Login  â”‚â”€â”€â”€â”€â–¶â”‚  Home   â”‚â”€â”€â”€â”€â–¶â”‚   PIN Entry   â”‚
â”‚  Page   â”‚     â”‚  Page   â”‚     â”‚  Page   â”‚     â”‚    Page       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                        â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   Approval    â”‚â”€â”€â”€â”€â–¶â”‚   Add Child   â”‚
            â”‚    Queue      â”‚     â”‚    Wizard     â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Steps:
1. **Landing** â†’ **Login** (`/login`)
2. **Home Page** â†’ Click "Parent Dashboard"
3. **PIN Entry** (`/parent/pin`) - Enter 4-digit PIN
4. **Approval Queue** (`/parent/approvals`) - Approve/reject completed habits
5. Optional: Add another child

---

## 3. Child Daily Journey

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Home   â”‚â”€â”€â”€â”€â–¶â”‚  Child    â”‚â”€â”€â”€â”€â–¶â”‚    Tap to     â”‚â”€â”€â”€â”€â–¶â”‚  Pending  â”‚
â”‚  Page   â”‚     â”‚ Dashboard â”‚     â”‚   Complete    â”‚     â”‚  Approval â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚                                        â”‚
                     â”‚                                        â–¼
                     â”‚                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚                                  â”‚  Parent   â”‚
                     â”‚                                  â”‚  Approves â”‚
                     â”‚                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚                                        â”‚
                     â–¼                                        â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚   Star    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â­ +1    â”‚
               â”‚   Store   â”‚                           â”‚  Earned!  â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Steps:
1. **Home Page** â†’ Tap child profile
2. **Child Dashboard** (`/child/:id`)
   - See daily "Must Do" quests (core habits)
   - See "Bonus" quests (extra habits for more stars)
3. **Complete Habit** â†’ Tap habit card
4. **Pending State** â†’ "Waiting for grown-up â³"
5. **Parent Approves** â†’ Star awarded!
6. **Star Store** (`/store/:id`) â†’ Spend stars on rewards

---

## 4. Approval Flow (Parent)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Approval    â”‚     â”‚              Pending Item                   â”‚
â”‚    Queue      â”‚â”€â”€â”€â”€â–¶â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚               â”‚     â”‚  â”‚ ğŸ¦– Zen completed "Brush teeth"      â”‚   â”‚
â”‚  ğŸ“‹ 3 items   â”‚     â”‚  â”‚                                     â”‚   â”‚
â”‚               â”‚     â”‚  â”‚   [âœ“ Approve]    [âœ— Reject]         â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â–¼                                       â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚  Approved!  â”‚                         â”‚  Rejected   â”‚
               â”‚  â­ +1 star â”‚                         â”‚  Try again  â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. Screen Inventory

| Screen | Route | Access | Purpose |
|--------|-------|--------|---------|
| Landing/Home | `/` | Public | Child select, parent login |
| Sign Up | `/signup` | Public | New parent registration |
| Login | `/login` | Public | Existing parent login |
| Forgot Password | `/forgot-password` | Public | Password reset request |
| Reset Password | `/reset-password` | Public | Set new password |
| Onboarding | `/onboarding` | Auth | First-time app tour |
| Parent Setup | `/parent/setup` | Auth | Set PIN, family settings |
| PIN Entry | `/parent/pin` | Auth | Unlock parent features |
| Add Child | `/parent/add-child` | Auth+PIN | Add new child profile |
| Approval Queue | `/parent/approvals` | Auth+PIN | Approve completed habits |
| Child Dashboard | `/child/:id` | Auth | Daily habit tracker |
| Star Store | `/store/:id` | Auth | Redeem stars for rewards |

---

## 6. Key Interactions

### Habit Completion
```
Child taps habit â†’ Creates "completion" record â†’ Status: PENDING
                                                      â”‚
Parent approves â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
                                                      â–¼
                                              Status: APPROVED
                                              Child stars += reward
```

### Star Store Purchase (Implemented âœ…)
```
Child taps "Get it!" â†’ Check: stars >= cost?
                              â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â–¼                                   â–¼
    Yes: Can afford                     No: Can't afford
    â”‚                                   - Gray out button
    â–¼                                   - "Need X more stars"
    Show loading spinner
    â”‚
    â–¼
    createRedemption()
    â”œâ”€â”€ Check stars again (é˜²æ­¢ race condition)
    â”œâ”€â”€ Deduct stars from child
    â””â”€â”€ Create redemption record (status: pending)
    â”‚
    â–¼
    Show "Got it! ğŸ‰" success state
    â”‚
    â–¼
    Parent sees in Approval Queue â†’ Fulfills reward
```

**Purchase States:**
- `pending` - Child purchased, waiting for parent to fulfill
- `fulfilled` - Parent gave the reward to child
- `cancelled` - Purchase was cancelled (refund stars)
- `expired` - Took too long, auto-cancelled

---

## 7. Issues / Gaps to Review

### â“ Questions
1. **No "forgot PIN" flow** - What if parent forgets PIN?
2. **No child switching from dashboard** - Must go back to home
3. **No habit history view** - Can child see past completions?
4. **No streak visualization** - Could motivate kids
5. **No notifications** - Parent doesn't know when to approve
6. **No reward redemption history** - What rewards were claimed?

### ğŸ’¡ Potential Improvements
1. Add "Quick switch" between children
2. Add streak counter on dashboard
3. Add push/email notification for pending approvals
4. Add weekly progress summary for parents
5. Add "favorite" habits for quick access
6. Add sound effects / animations for completions

---

## 8. Data Model (Simplified)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Parent    â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚   Child     â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚   Habit     â”‚
â”‚   (user)    â”‚ 1:N   â”‚             â”‚ 1:N   â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚                     â”‚
                             â”‚                     â”‚
                             â–¼                     â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚   Reward    â”‚       â”‚ Completion  â”‚
                      â”‚             â”‚       â”‚  (pending/  â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚  approved)  â”‚
                             â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚ Redemption  â”‚
                      â”‚             â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

*Generated by Musmus ğŸ¦ - 2026-02-14*
